<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ª–æ–∞–¥–µ—Ä -->
    <div class="connection-tab-loader show waiting">
      <div class="loader-inner"></div>
      <div class="loader-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container">
      <div class="main-card">
        <div class="header-with-settings">
          <div class="header-content">
            <div class="header-text">
              <h3>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h3>
              <h6 id="ethernet-status">üíª - üåê - ‚ùå</h6>
            </div>
            <div class="header-controls">
              <button
                type="button"
                id="reboot-btn"
                class="header-btn"
                title="–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å"
              >
                <span class="btn-icon">üîÅ</span>
                <span class="tooltip">–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å</span>
              </button>
              <button
                type="button"
                id="logout-btn"
                class="header-btn"
                title="–í—ã–π—Ç–∏"
              >
                <span class="btn-icon">üö™</span>
                <span class="tooltip">–í—ã–π—Ç–∏</span>
              </button>
            </div>
          </div>
        </div>
        <div class="tabs">
          <div class="tab active" data-tab="connection">–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</div>
          <div class="tab" data-tab="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
          <div class="tab" data-tab="update">–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ</div>
        </div>
        <div class="content-connected-tab-wrapper">
          <!-- –í–∫–ª–∞–¥–∫–∞ "–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ" -->
          <div class="tab-content active" id="connection-tab">
            <form id="wifi-form">
              <div class="form-group toggle-group">
                <label class="toggle-label">–ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Ä–µ–∂–∏–º</label>
                <label class="switch">
                  <input type="checkbox" id="standalone-mode-toggle"/>
                  <span class="slider round"></span>
                </label>
              </div>

              <div class="form-group">
                <div class="scan-section">
                  <button
                    type="button"
                    id="scan-btn"
                    class="control-btn btn-secondary"
                  >
                    <span class="btn-text">üîç –ù–∞–π—Ç–∏ —Å–µ—Ç–∏</span>
                    <div class="loader" id="scan-loader">
                      <div class="spinner"></div>
                      <span>–ü–æ–∏—Å–∫...</span>
                    </div>
                  </button>
                  <button
                    type="button"
                    class="manual-ssid-btn"
                    id="manual-ssid-btn"
                  >
                    ‚úèÔ∏è
                  </button>
                </div>
              </div>
              <div class="form-group">
                <label for="ssid-select">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ç–∏ (SSID):</label>
                <div class="input-wrapper" id="ssid-wrapper">
                  <div class="select-wrapper">
                    <select
                      id="ssid-select"
                      name="ssid"
                      required
                      class="settings-input"
                    >
                      <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç—å...</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label for="wifi-password">–ü–∞—Ä–æ–ª—å:</label>
                <div class="input-wrapper password-container">
                  <input
                    type="password"
                    id="wifi-password"
                    name="password"
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å —Å–µ—Ç–∏"
                    class="settings-input"
                  />
                  <button
                    type="button"
                    class="toggle-password"
                    id="toggle-wifi-password"
                  >
                    üëÅÔ∏è
                  </button>
                </div>
              </div>
              <div class="form-group">
                <div class="connect-section">
                  <button
                    type="submit"
                    id="connect-btn"
                    class="control-btn btn-primary connect"
                  >
                    <span class="btn-text" id="connect-btn-text"
                      >üîå –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</span
                    >
                    <div class="loader" id="connect-loader">
                      <div class="spinner"></div>
                      <span>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
                    </div>
                  </button>
                </div>
              </div>
            </form>
            <div class="settings-form-group connection-info">
              <div class="input-wrapper">
                <input
                  type="text"
                  id="connection-info-text"
                  name="connection-info-text"
                  value=""
                  readonly
                  class="settings-input"
                />
              </div>
            </div>
          </div>
        </div>
        <!-- –í–∫–ª–∞–¥–∫–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" -->
        <div class="tab-content" id="settings-tab">
          <div class="accordion">
            <!-- –ë–ª–æ–∫: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ -->
            <div class="accordion-item">
              <button type="button" class="accordion-header">
                <span>üì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</span>
                <span class="accordion-icon"> ‚ñ∫</span>
              </button>
              <div class="accordion-body">
                <div class="settings-form-group">
                  <label for="hostname" class="settings-label"
                    >–ò–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:</label
                  >
                  <input
                    type="text"
                    id="hostname"
                    name="hostname"
                    class="settings-input"
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"
                  />
                </div>
              </div>
            </div>
            <!-- –ë–ª–æ–∫: led strip -->
            <div class="accordion-item">
              <button type="button" class="accordion-header">
                <span>üí° –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–µ–Ω—Ç—ã</span>
                <span class="accordion-icon"> ‚ñ∫</span>
              </button>
              <div class="accordion-body">
                <div class="settings-form-group">
                  <label for="led-count" class="settings-label"
                    >–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–æ–≤:</label
                  >
                  <input
                    type="number"
                    id="led-count"
                    name="led-count"
                    class="settings-input"
                    placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–æ–≤"
                  />
                </div>
                <div class="settings-form-group">
                  <label for="next-device-hostname" class="settings-label"
                    >–ò–º—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label
                  >
                  <div class="input-wrapper">
                    <input
                      type="text"
                      id="next-device-hostname"
                      name="next-device-hostname"
                      class="settings-input"
                      placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"
                    />
                  </div>
                </div>
              </div>
            </div>
            <!-- –ë–ª–æ–∫: –ê–¥—Ä–µ—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ -->
            <div class="accordion-item">
              <button type="button" class="accordion-header">
                <span>üåé –ê–¥—Ä–µ—Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</span>
                <span class="accordion-icon">‚ñ∫</span>
              </button>
              <div class="accordion-body">
                <div class="network-mode-buttons">
                  <button type="button" id="dhcp-btn" class="mode-btn active">
                    DHCP
                  </button>
                  <button type="button" id="static-btn" class="mode-btn">
                    –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP
                  </button>
                </div>
                <!-- –ü–æ–ª—è –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ IP -->
                <div
                  class="static-ip-fields"
                  id="static-ip-fields"
                  style="display: none; margin-top: 15px"
                >
                  <div class="settings-form-group">
                    <label for="static-ip">IP-–∞–¥—Ä–µ—Å:</label>
                    <input
                      type="text"
                      id="static-ip"
                      name="static-ip"
                      class="settings-input"
                      placeholder="192.168.0.1"
                    />
                  </div>
                  <div class="settings-form-group">
                    <label for="subnet-mask">–ú–∞—Å–∫–∞ –ø–æ–¥—Å–µ—Ç–∏:</label>
                    <input
                      type="text"
                      id="subnet-mask"
                      name="subnet-mask"
                      class="settings-input"
                      placeholder="255.255.255.0"
                    />
                  </div>
                  <div class="settings-form-group">
                    <label for="gateway">–®–ª—é–∑:</label>
                    <input
                      type="text"
                      id="gateway"
                      name="gateway"
                      class="settings-input"
                      placeholder="192.168.1.1"
                    />
                  </div>
                </div>
              </div>
            </div>
            <!-- –ë–ª–æ–∫: –¢–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ -->
            <div class="accordion-item">
              <button type="button" class="accordion-header">
                <span>üõú –¢–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞</span>
                <span class="accordion-icon"> ‚ñ∫</span>
              </button>
              <div class="accordion-body">
                <div class="settings-form-group">
                  <label for="captive-ssid" class="settings-label"
                    >–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ç–∏ (SSID):</label
                  >
                  <input
                    type="text"
                    id="captive-ssid"
                    name="captive-ssid"
                    class="settings-input"
                    placeholder="–í–≤–µ–¥–∏—Ç–µ SSID"
                  />
                </div>
                <div class="settings-form-group">
                  <label for="captive-password" class="settings-label"
                    >–ü–∞—Ä–æ–ª—å —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label
                  >
                  <div class="input-wrapper password-container">
                    <input
                      type="password"
                      id="captive-password"
                      name="captive-password"
                      class="settings-input"
                      placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å —Å–µ—Ç–∏"
                    />
                    <button
                      type="button"
                      class="toggle-password"
                      id="toggle-captive-password"
                    >
                      üëÅÔ∏è
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- –ë–ª–æ–∫: MQTT -->
            <div class="accordion-item">
              <button type="button" class="accordion-header">
                <span>üîó MQTT</span>
                <span class="accordion-icon">‚ñ∫</span>
              </button>
              <div class="accordion-body">
                <div class="network-mode-buttons">
                  <button
                    type="button"
                    id="mqtt-off-btn"
                    class="mode-btn active"
                  >
                    –í—ã–∫–ª
                  </button>
                  <button type="button" id="mqtt-on-btn" class="mode-btn">
                    –í–∫–ª
                  </button>
                </div>
                <!-- –ü–æ–ª—è MQTT (–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ) -->
                <div id="mqtt-fields" style="display: none; margin-top: 10px">
                  <div class="settings-form-group">
                    <label for="mqtt-server">–°–µ—Ä–≤–µ—Ä MQTT:</label>
                    <input
                      type="text"
                      id="mqtt-server"
                      name="mqtt-server"
                      class="settings-input"
                      placeholder="mqtt.example.com"
                    />
                  </div>
                  <div class="settings-form-group">
                    <label for="mqtt-port">–ü–æ—Ä—Ç:</label>
                    <input
                      type="number"
                      id="mqtt-port"
                      name="mqtt-port"
                      class="settings-input"
                      placeholder="1883"
                    />
                  </div>
                  <div class="settings-form-group">
                    <label for="mqtt-user">–õ–æ–≥–∏–Ω:</label>
                    <input
                      type="text"
                      id="mqtt-user"
                      name="mqtt-user"
                      class="settings-input"
                      placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω"
                    />
                  </div>
                  <div class="settings-form-group">
                    <label for="mqtt-password">–ü–∞—Ä–æ–ª—å:</label>
                    <div class="input-wrapper password-container">
                      <input
                        type="password"
                        id="mqtt-password"
                        name="mqtt-password"
                        class="settings-input"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
                      />
                      <button
                        type="button"
                        class="toggle-password"
                        id="toggle-mqtt-password"
                      >
                        üëÅÔ∏è
                      </button>
                    </div>
                  </div>
                  <div class="settings-form-group">
                    <button
                      type="button"
                      id="test-mqtt-btn"
                      class="control-btn test-mqtt-btn"
                      style="margin-top: 16px; width: 100%"
                      disabled
                    >
                      <span class="general-btn-text"
                        >üõ†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</span
                      >
                      <div class="general-loader" id="mqtt-test-loader">
                        <div class="spinner"></div>
                        <span id="mqtt-test-loader-text">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
                      </div>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- –ö–Ω–æ–ø–∫–∏ –∏ —Å—Ç–∞—Ç—É—Å –≤–Ω–µ –∞–∫–∫–æ—Ä–¥–µ–æ–Ω–æ–≤ -->
          <div class="settings-actions">
            <button
              type="button"
              id="save-settings-btn"
              class="control-btn save-settings-btn"
              style="margin-top: 16px; width: 100%"
              disabled
            >
              <span class="general-btn-text">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</span>
              <div class="general-loader" id="general-save-loader">
                <div class="spinner"></div>
                <span>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...</span>
              </div>
            </button>
            <div class="settings-status" id="general-settings-status"></div>

            <button
              type="button"
              id="reset-btn"
              class="control-btn btn-danger"
              style="margin-top: 10px; height: 40px; width: 100%"
            >
              üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            </button>
            <div class="settings-info">
              <p>‚ÑπÔ∏è –≠—Ç–∞ –≤–∫–ª–∞–¥–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</p>
            </div>
          </div>
        </div>
        <!-- –í–∫–ª–∞–¥–∫–∞ "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ" -->
        <div class="tab-content" id="update-tab">
          <form id="update-form">
            <div class="settings-form-group input-code">
              <label for="firmware-code" class="settings-label"
                >–ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:</label
              >
              <input
                type="text"
                id="firmware-code"
                name="firmware-code"
                class="settings-input"
                placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è"
                disabled
              />
            </div>
            <button
              type="button"
              id="update-firmware-btn"
              class="control-btn save-settings-btn"
              style="margin-top: 20px"
              disabled
            >
              <span class="update-btn-text">üöÄ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏ –æ–±–Ω–æ–≤–∏—Ç—å</span>
              <div class="general-loader" id="update-loader">
                <div class="spinner"></div>
                <span>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...</span>
              </div>
            </button>
            <div class="app-version" id="application-version">
              –í–µ—Ä—Å–∏—è: 0.0.0
            </div>
            <div class="settings-status" id="update-status"></div>
          </form>
        </div>
      </div>
    </div>

    <!-- –Ø–¥—Ä–æ –∏ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å -->
    <script src="settings_core.js"></script>
    <script src="base_module.js"></script>
    <script src="loader.js"></script>

    <!-- –ú–æ–¥—É–ª–∏ (–±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏) -->
    <script src="control_module.js"></script>
    <script src="device_module.js"></script>
    <script src="ledstrip_module.js"></script>
    <script src="network_module.js"></script>
    <script src="apoint_module.js"></script>
    <script src="mqtt_module.js"></script>
    <script src="wifi_module.js"></script>
    <script src="update_module.js"></script>

    <!-- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π -->
    <script src="modules_registry.js"></script>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç -->
    <script src="script.js"></script>

    <script>
      window.addEventListener("load", function () {
        setTimeout(() => {
          uiLoader.hide();
        }, 500);
      });
    </script>
  </body>
</html>
